{
  "experiment": "activation_patching",
  "description": "Causal circuit analysis via activation patching",
  "methods": [
    "addition",
    "random",
    "replacement"
  ],
  "results": [
    {
      "layer": 0,
      "component": "residual",
      "method": "replacement",
      "flip_rate": 0.48,
      "mean_prob_change": 0.4562680206848395,
      "n_samples": 25
    },
    {
      "layer": 0,
      "component": "residual",
      "method": "random",
      "flip_rate": 0.04,
      "mean_prob_change": 0.1018554356692393,
      "n_samples": 25
    },
    {
      "layer": 0,
      "component": "residual",
      "method": "addition",
      "flip_rate": 0.48,
      "mean_prob_change": 0.45626808173174205,
      "n_samples": 25
    },
    {
      "layer": 0,
      "component": "attn",
      "method": "replacement",
      "flip_rate": 0.0,
      "mean_prob_change": 0.0036290533629493773,
      "n_samples": 25
    },
    {
      "layer": 0,
      "component": "attn",
      "method": "random",
      "flip_rate": 0.0,
      "mean_prob_change": -0.007075363111496338,
      "n_samples": 25
    },
    {
      "layer": 0,
      "component": "attn",
      "method": "addition",
      "flip_rate": 0.0,
      "mean_prob_change": 0.0036290588857707997,
      "n_samples": 25
    },
    {
      "layer": 0,
      "component": "mlp",
      "method": "replacement",
      "flip_rate": 0.36,
      "mean_prob_change": 0.3348823001594634,
      "n_samples": 25
    },
    {
      "layer": 0,
      "component": "mlp",
      "method": "random",
      "flip_rate": 0.12,
      "mean_prob_change": 0.19705921936959908,
      "n_samples": 25
    },
    {
      "layer": 0,
      "component": "mlp",
      "method": "addition",
      "flip_rate": 0.36,
      "mean_prob_change": 0.33488215112565933,
      "n_samples": 25
    },
    {
      "layer": 1,
      "component": "residual",
      "method": "replacement",
      "flip_rate": 0.48,
      "mean_prob_change": 0.4746407875555636,
      "n_samples": 25
    },
    {
      "layer": 1,
      "component": "residual",
      "method": "random",
      "flip_rate": 0.08,
      "mean_prob_change": 0.12549737523230337,
      "n_samples": 25
    },
    {
      "layer": 1,
      "component": "residual",
      "method": "addition",
      "flip_rate": 0.48,
      "mean_prob_change": 0.4746407975542929,
      "n_samples": 25
    },
    {
      "layer": 1,
      "component": "attn",
      "method": "replacement",
      "flip_rate": 0.0,
      "mean_prob_change": 0.0012517851237822163,
      "n_samples": 25
    },
    {
      "layer": 1,
      "component": "attn",
      "method": "random",
      "flip_rate": 0.0,
      "mean_prob_change": 0.0007178639397344133,
      "n_samples": 25
    },
    {
      "layer": 1,
      "component": "attn",
      "method": "addition",
      "flip_rate": 0.0,
      "mean_prob_change": 0.0012517590716445426,
      "n_samples": 25
    },
    {
      "layer": 1,
      "component": "mlp",
      "method": "replacement",
      "flip_rate": 0.0,
      "mean_prob_change": 0.00026607676275763214,
      "n_samples": 25
    },
    {
      "layer": 1,
      "component": "mlp",
      "method": "random",
      "flip_rate": 0.0,
      "mean_prob_change": 0.007265013577625053,
      "n_samples": 25
    },
    {
      "layer": 1,
      "component": "mlp",
      "method": "addition",
      "flip_rate": 0.0,
      "mean_prob_change": 0.00026608671147683617,
      "n_samples": 25
    },
    {
      "layer": 2,
      "component": "residual",
      "method": "replacement",
      "flip_rate": 0.56,
      "mean_prob_change": 0.5268668444650871,
      "n_samples": 25
    },
    {
      "layer": 2,
      "component": "residual",
      "method": "random",
      "flip_rate": 0.32,
      "mean_prob_change": 0.2924349468411126,
      "n_samples": 25
    },
    {
      "layer": 2,
      "component": "residual",
      "method": "addition",
      "flip_rate": 0.56,
      "mean_prob_change": 0.5268668173642993,
      "n_samples": 25
    },
    {
      "layer": 2,
      "component": "attn",
      "method": "replacement",
      "flip_rate": 0.0,
      "mean_prob_change": 0.004791518994366131,
      "n_samples": 25
    },
    {
      "layer": 2,
      "component": "attn",
      "method": "random",
      "flip_rate": 0.0,
      "mean_prob_change": 0.002760758419353082,
      "n_samples": 25
    },
    {
      "layer": 2,
      "component": "attn",
      "method": "addition",
      "flip_rate": 0.0,
      "mean_prob_change": 0.004791511569276481,
      "n_samples": 25
    },
    {
      "layer": 2,
      "component": "mlp",
      "method": "replacement",
      "flip_rate": 0.0,
      "mean_prob_change": -0.0012844567142434827,
      "n_samples": 25
    },
    {
      "layer": 2,
      "component": "mlp",
      "method": "random",
      "flip_rate": 0.0,
      "mean_prob_change": -0.001899905288733863,
      "n_samples": 25
    },
    {
      "layer": 2,
      "component": "mlp",
      "method": "addition",
      "flip_rate": 0.0,
      "mean_prob_change": -0.001284454981241283,
      "n_samples": 25
    },
    {
      "layer": 3,
      "component": "residual",
      "method": "replacement",
      "flip_rate": 0.56,
      "mean_prob_change": 0.5624366108141876,
      "n_samples": 25
    },
    {
      "layer": 3,
      "component": "residual",
      "method": "random",
      "flip_rate": 0.48,
      "mean_prob_change": 0.4943039331230941,
      "n_samples": 25
    },
    {
      "layer": 3,
      "component": "residual",
      "method": "addition",
      "flip_rate": 0.56,
      "mean_prob_change": 0.5624366473197037,
      "n_samples": 25
    },
    {
      "layer": 3,
      "component": "attn",
      "method": "replacement",
      "flip_rate": 0.0,
      "mean_prob_change": 0.004846466887079442,
      "n_samples": 25
    },
    {
      "layer": 3,
      "component": "attn",
      "method": "random",
      "flip_rate": 0.0,
      "mean_prob_change": -2.375124415989305e-05,
      "n_samples": 25
    },
    {
      "layer": 3,
      "component": "attn",
      "method": "addition",
      "flip_rate": 0.0,
      "mean_prob_change": 0.004846464180542793,
      "n_samples": 25
    },
    {
      "layer": 3,
      "component": "mlp",
      "method": "replacement",
      "flip_rate": 0.0,
      "mean_prob_change": 0.0006113870377754882,
      "n_samples": 25
    },
    {
      "layer": 3,
      "component": "mlp",
      "method": "random",
      "flip_rate": 0.0,
      "mean_prob_change": -0.0014100292912917966,
      "n_samples": 25
    },
    {
      "layer": 3,
      "component": "mlp",
      "method": "addition",
      "flip_rate": 0.0,
      "mean_prob_change": 0.0006113778475890807,
      "n_samples": 25
    },
    {
      "layer": 4,
      "component": "residual",
      "method": "replacement",
      "flip_rate": 0.68,
      "mean_prob_change": 0.6315037723879962,
      "n_samples": 25
    },
    {
      "layer": 4,
      "component": "residual",
      "method": "random",
      "flip_rate": 0.28,
      "mean_prob_change": 0.3055921170815769,
      "n_samples": 25
    },
    {
      "layer": 4,
      "component": "residual",
      "method": "addition",
      "flip_rate": 0.68,
      "mean_prob_change": 0.6315038044807082,
      "n_samples": 25
    },
    {
      "layer": 4,
      "component": "attn",
      "method": "replacement",
      "flip_rate": 0.0,
      "mean_prob_change": 0.002579409321519446,
      "n_samples": 25
    },
    {
      "layer": 4,
      "component": "attn",
      "method": "random",
      "flip_rate": 0.0,
      "mean_prob_change": -0.002178377872058781,
      "n_samples": 25
    },
    {
      "layer": 4,
      "component": "attn",
      "method": "addition",
      "flip_rate": 0.0,
      "mean_prob_change": 0.0025794151336505245,
      "n_samples": 25
    },
    {
      "layer": 4,
      "component": "mlp",
      "method": "replacement",
      "flip_rate": 0.0,
      "mean_prob_change": -0.0024996815106252557,
      "n_samples": 25
    },
    {
      "layer": 4,
      "component": "mlp",
      "method": "random",
      "flip_rate": 0.0,
      "mean_prob_change": -0.0011103378833373157,
      "n_samples": 25
    },
    {
      "layer": 4,
      "component": "mlp",
      "method": "addition",
      "flip_rate": 0.0,
      "mean_prob_change": -0.0024996768925743098,
      "n_samples": 25
    },
    {
      "layer": 5,
      "component": "residual",
      "method": "replacement",
      "flip_rate": 0.76,
      "mean_prob_change": 0.6906890407610631,
      "n_samples": 25
    },
    {
      "layer": 5,
      "component": "residual",
      "method": "random",
      "flip_rate": 0.6,
      "mean_prob_change": 0.6017280462913399,
      "n_samples": 25
    },
    {
      "layer": 5,
      "component": "residual",
      "method": "addition",
      "flip_rate": 0.76,
      "mean_prob_change": 0.6906890252181077,
      "n_samples": 25
    },
    {
      "layer": 5,
      "component": "attn",
      "method": "replacement",
      "flip_rate": 0.0,
      "mean_prob_change": 0.003370634611216099,
      "n_samples": 25
    },
    {
      "layer": 5,
      "component": "attn",
      "method": "random",
      "flip_rate": 0.0,
      "mean_prob_change": -0.0015682140077635021,
      "n_samples": 25
    },
    {
      "layer": 5,
      "component": "attn",
      "method": "addition",
      "flip_rate": 0.0,
      "mean_prob_change": 0.0033706283799200287,
      "n_samples": 25
    },
    {
      "layer": 5,
      "component": "mlp",
      "method": "replacement",
      "flip_rate": 0.0,
      "mean_prob_change": -0.0006290898070107831,
      "n_samples": 25
    },
    {
      "layer": 5,
      "component": "mlp",
      "method": "random",
      "flip_rate": 0.0,
      "mean_prob_change": -0.001157645507179419,
      "n_samples": 25
    },
    {
      "layer": 5,
      "component": "mlp",
      "method": "addition",
      "flip_rate": 0.0,
      "mean_prob_change": -0.0006290921678383521,
      "n_samples": 25
    },
    {
      "layer": 6,
      "component": "residual",
      "method": "replacement",
      "flip_rate": 0.8,
      "mean_prob_change": 0.7808588670794232,
      "n_samples": 25
    },
    {
      "layer": 6,
      "component": "residual",
      "method": "random",
      "flip_rate": 0.68,
      "mean_prob_change": 0.6303429369278751,
      "n_samples": 25
    },
    {
      "layer": 6,
      "component": "residual",
      "method": "addition",
      "flip_rate": 0.8,
      "mean_prob_change": 0.7808588760660493,
      "n_samples": 25
    },
    {
      "layer": 6,
      "component": "attn",
      "method": "replacement",
      "flip_rate": 0.0,
      "mean_prob_change": 0.005906347392674753,
      "n_samples": 25
    },
    {
      "layer": 6,
      "component": "attn",
      "method": "random",
      "flip_rate": 0.0,
      "mean_prob_change": 0.00404546360579296,
      "n_samples": 25
    },
    {
      "layer": 6,
      "component": "attn",
      "method": "addition",
      "flip_rate": 0.0,
      "mean_prob_change": 0.005906337159313106,
      "n_samples": 25
    },
    {
      "layer": 6,
      "component": "mlp",
      "method": "replacement",
      "flip_rate": 0.0,
      "mean_prob_change": 0.005798925873792098,
      "n_samples": 25
    },
    {
      "layer": 6,
      "component": "mlp",
      "method": "random",
      "flip_rate": 0.0,
      "mean_prob_change": -0.0016911910092884108,
      "n_samples": 25
    },
    {
      "layer": 6,
      "component": "mlp",
      "method": "addition",
      "flip_rate": 0.0,
      "mean_prob_change": 0.005798923192786769,
      "n_samples": 25
    },
    {
      "layer": 7,
      "component": "residual",
      "method": "replacement",
      "flip_rate": 0.88,
      "mean_prob_change": 0.8593784238599951,
      "n_samples": 25
    },
    {
      "layer": 7,
      "component": "residual",
      "method": "random",
      "flip_rate": 0.48,
      "mean_prob_change": 0.42893430563054175,
      "n_samples": 25
    },
    {
      "layer": 7,
      "component": "residual",
      "method": "addition",
      "flip_rate": 0.88,
      "mean_prob_change": 0.8593784234519536,
      "n_samples": 25
    },
    {
      "layer": 7,
      "component": "attn",
      "method": "replacement",
      "flip_rate": 0.0,
      "mean_prob_change": 0.004686273737922395,
      "n_samples": 25
    },
    {
      "layer": 7,
      "component": "attn",
      "method": "random",
      "flip_rate": 0.0,
      "mean_prob_change": -0.005211974572807408,
      "n_samples": 25
    },
    {
      "layer": 7,
      "component": "attn",
      "method": "addition",
      "flip_rate": 0.0,
      "mean_prob_change": 0.004686273937272576,
      "n_samples": 25
    },
    {
      "layer": 7,
      "component": "mlp",
      "method": "replacement",
      "flip_rate": 0.0,
      "mean_prob_change": -0.002521132772152441,
      "n_samples": 25
    },
    {
      "layer": 7,
      "component": "mlp",
      "method": "random",
      "flip_rate": 0.0,
      "mean_prob_change": 0.0011768078024834239,
      "n_samples": 25
    },
    {
      "layer": 7,
      "component": "mlp",
      "method": "addition",
      "flip_rate": 0.0,
      "mean_prob_change": -0.002521133724311153,
      "n_samples": 25
    },
    {
      "layer": 8,
      "component": "residual",
      "method": "replacement",
      "flip_rate": 0.0,
      "mean_prob_change": 0.0,
      "n_samples": 25
    },
    {
      "layer": 8,
      "component": "residual",
      "method": "random",
      "flip_rate": 0.0,
      "mean_prob_change": 0.0,
      "n_samples": 25
    },
    {
      "layer": 8,
      "component": "residual",
      "method": "addition",
      "flip_rate": 0.0,
      "mean_prob_change": 0.0,
      "n_samples": 25
    },
    {
      "layer": 8,
      "component": "attn",
      "method": "replacement",
      "flip_rate": 0.0,
      "mean_prob_change": 0.0,
      "n_samples": 25
    },
    {
      "layer": 8,
      "component": "attn",
      "method": "random",
      "flip_rate": 0.0,
      "mean_prob_change": 0.0,
      "n_samples": 25
    },
    {
      "layer": 8,
      "component": "attn",
      "method": "addition",
      "flip_rate": 0.0,
      "mean_prob_change": 0.0,
      "n_samples": 25
    },
    {
      "layer": 8,
      "component": "mlp",
      "method": "replacement",
      "flip_rate": 0.0,
      "mean_prob_change": 0.0,
      "n_samples": 25
    },
    {
      "layer": 8,
      "component": "mlp",
      "method": "random",
      "flip_rate": 0.0,
      "mean_prob_change": 0.0,
      "n_samples": 25
    },
    {
      "layer": 8,
      "component": "mlp",
      "method": "addition",
      "flip_rate": 0.0,
      "mean_prob_change": 0.0,
      "n_samples": 25
    },
    {
      "layer": 9,
      "component": "residual",
      "method": "replacement",
      "flip_rate": 0.0,
      "mean_prob_change": 0.0,
      "n_samples": 25
    },
    {
      "layer": 9,
      "component": "residual",
      "method": "random",
      "flip_rate": 0.0,
      "mean_prob_change": 0.0,
      "n_samples": 25
    },
    {
      "layer": 9,
      "component": "residual",
      "method": "addition",
      "flip_rate": 0.0,
      "mean_prob_change": 0.0,
      "n_samples": 25
    },
    {
      "layer": 9,
      "component": "attn",
      "method": "replacement",
      "flip_rate": 0.0,
      "mean_prob_change": 0.0,
      "n_samples": 25
    },
    {
      "layer": 9,
      "component": "attn",
      "method": "random",
      "flip_rate": 0.0,
      "mean_prob_change": 0.0,
      "n_samples": 25
    },
    {
      "layer": 9,
      "component": "attn",
      "method": "addition",
      "flip_rate": 0.0,
      "mean_prob_change": 0.0,
      "n_samples": 25
    },
    {
      "layer": 9,
      "component": "mlp",
      "method": "replacement",
      "flip_rate": 0.0,
      "mean_prob_change": 0.0,
      "n_samples": 25
    },
    {
      "layer": 9,
      "component": "mlp",
      "method": "random",
      "flip_rate": 0.0,
      "mean_prob_change": 0.0,
      "n_samples": 25
    },
    {
      "layer": 9,
      "component": "mlp",
      "method": "addition",
      "flip_rate": 0.0,
      "mean_prob_change": 0.0,
      "n_samples": 25
    },
    {
      "layer": 10,
      "component": "residual",
      "method": "replacement",
      "flip_rate": 0.0,
      "mean_prob_change": 0.0,
      "n_samples": 25
    },
    {
      "layer": 10,
      "component": "residual",
      "method": "random",
      "flip_rate": 0.0,
      "mean_prob_change": 0.0,
      "n_samples": 25
    },
    {
      "layer": 10,
      "component": "residual",
      "method": "addition",
      "flip_rate": 0.0,
      "mean_prob_change": 0.0,
      "n_samples": 25
    },
    {
      "layer": 10,
      "component": "attn",
      "method": "replacement",
      "flip_rate": 0.0,
      "mean_prob_change": 0.0,
      "n_samples": 25
    },
    {
      "layer": 10,
      "component": "attn",
      "method": "random",
      "flip_rate": 0.0,
      "mean_prob_change": 0.0,
      "n_samples": 25
    },
    {
      "layer": 10,
      "component": "attn",
      "method": "addition",
      "flip_rate": 0.0,
      "mean_prob_change": 0.0,
      "n_samples": 25
    },
    {
      "layer": 10,
      "component": "mlp",
      "method": "replacement",
      "flip_rate": 0.0,
      "mean_prob_change": 0.0,
      "n_samples": 25
    },
    {
      "layer": 10,
      "component": "mlp",
      "method": "random",
      "flip_rate": 0.0,
      "mean_prob_change": 0.0,
      "n_samples": 25
    },
    {
      "layer": 10,
      "component": "mlp",
      "method": "addition",
      "flip_rate": 0.0,
      "mean_prob_change": 0.0,
      "n_samples": 25
    },
    {
      "layer": 11,
      "component": "residual",
      "method": "replacement",
      "flip_rate": 0.0,
      "mean_prob_change": 0.0,
      "n_samples": 25
    },
    {
      "layer": 11,
      "component": "residual",
      "method": "random",
      "flip_rate": 0.0,
      "mean_prob_change": 0.0,
      "n_samples": 25
    },
    {
      "layer": 11,
      "component": "residual",
      "method": "addition",
      "flip_rate": 0.0,
      "mean_prob_change": 0.0,
      "n_samples": 25
    },
    {
      "layer": 11,
      "component": "attn",
      "method": "replacement",
      "flip_rate": 0.0,
      "mean_prob_change": 0.0,
      "n_samples": 25
    },
    {
      "layer": 11,
      "component": "attn",
      "method": "random",
      "flip_rate": 0.0,
      "mean_prob_change": 0.0,
      "n_samples": 25
    },
    {
      "layer": 11,
      "component": "attn",
      "method": "addition",
      "flip_rate": 0.0,
      "mean_prob_change": 0.0,
      "n_samples": 25
    },
    {
      "layer": 11,
      "component": "mlp",
      "method": "replacement",
      "flip_rate": 0.0,
      "mean_prob_change": 0.0,
      "n_samples": 25
    },
    {
      "layer": 11,
      "component": "mlp",
      "method": "random",
      "flip_rate": 0.0,
      "mean_prob_change": 0.0,
      "n_samples": 25
    },
    {
      "layer": 11,
      "component": "mlp",
      "method": "addition",
      "flip_rate": 0.0,
      "mean_prob_change": 0.0,
      "n_samples": 25
    }
  ],
  "net_effects_residual": {
    "0": {
      "replacement": 0.48,
      "random": 0.04,
      "net_effect": 0.44
    },
    "1": {
      "replacement": 0.48,
      "random": 0.08,
      "net_effect": 0.39999999999999997
    },
    "2": {
      "replacement": 0.56,
      "random": 0.32,
      "net_effect": 0.24000000000000005
    },
    "3": {
      "replacement": 0.56,
      "random": 0.48,
      "net_effect": 0.08000000000000007
    },
    "4": {
      "replacement": 0.68,
      "random": 0.28,
      "net_effect": 0.4
    },
    "5": {
      "replacement": 0.76,
      "random": 0.6,
      "net_effect": 0.16000000000000003
    },
    "6": {
      "replacement": 0.8,
      "random": 0.68,
      "net_effect": 0.12
    },
    "7": {
      "replacement": 0.88,
      "random": 0.48,
      "net_effect": 0.4
    },
    "8": {
      "replacement": 0.0,
      "random": 0.0,
      "net_effect": 0.0
    },
    "9": {
      "replacement": 0.0,
      "random": 0.0,
      "net_effect": 0.0
    },
    "10": {
      "replacement": 0.0,
      "random": 0.0,
      "net_effect": 0.0
    },
    "11": {
      "replacement": 0.0,
      "random": 0.0,
      "net_effect": 0.0
    }
  }
}